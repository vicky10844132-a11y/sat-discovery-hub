:root{
  --deep0:#020817;
  --deep1:#04142e;
  --deep2:#07224a;

  --blue:#6fe7ff;
  --blue2:#3fb7ff;
  --violet:#7a6dff;

  --text:#eaf2ff;
  --muted:#9fb2cc;

  --glass:rgba(10,22,46,.55);
  --border:rgba(120,190,255,.18);

  --shadow:0 20px 70px rgba(0,0,0,.6);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;overflow:hidden}

body{
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 20% -10%, rgba(63,183,255,.18), transparent 60%),
    radial-gradient(900px 500px at 120% 20%, rgba(122,109,255,.10), transparent 60%),
    linear-gradient(180deg, var(--deep1), var(--deep0));
}

/* ================= TOP BAR ================= */
#topbar{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 18px;
  background:linear-gradient(180deg, rgba(6,14,32,.75), rgba(4,10,24,.65));
  border-bottom:1px solid rgba(120,190,255,.18);
}

/* ================= LAYOUT ================= */
#app{height:calc(100% - 64px);display:flex}

#sidebar{
  width:400px;
  padding:14px;
  background:linear-gradient(180deg, rgba(6,14,32,.6), rgba(4,10,24,.7));
  border-right:1px solid rgba(120,190,255,.18);
  overflow:auto;
}

/* ================= CARDS ================= */
.card{
  background:linear-gradient(180deg, rgba(10,22,46,.55), rgba(6,14,32,.65));
  border:1px solid rgba(120,190,255,.18);
  border-radius:18px;
  padding:14px;
  margin-bottom:12px;
  box-shadow:0 12px 36px rgba(0,0,0,.4);
}

.cardTitle{
  font-family:Orbitron,Inter,system-ui;
  font-size:13px;
  letter-spacing:1.4px;
  text-transform:uppercase;
}

/* ================= MAP ================= */
#main{flex:1;padding:12px}

#mapFrame{
  position:relative;
  height:100%;
  border-radius:22px;
  overflow:hidden;
  box-shadow:var(--shadow);

  /* ⭐ 这是关键：真正的深蓝地图底 */
  background:
    radial-gradient(1200px 720px at 55% 40%, rgba(7,34,74,.95), rgba(2,8,18,1));
}

/* 原始瓦片彻底降权 */
#map{
  position:absolute;
  inset:0;
  z-index:1;
  opacity:.35;              /* 只保留轮廓 */
  filter:contrast(1.1);     /* 不再调亮 */
}

/* 蓝色大陆轮廓发光（伪） */
#mapFrame::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:2;
  pointer-events:none;
  background:
    radial-gradient(circle at 50% 50%, rgba(111,231,255,.12), transparent 55%),
    radial-gradient(circle, rgba(120,200,255,.06) 0 1px, transparent 2px) 0 0/22px 22px;
  mix-blend-mode:screen;
}

/* 经纬网格 + 点阵 */
.gridOverlay{
  position:absolute;
  inset:0;
  z-index:3;
  pointer-events:none;
  background:
    radial-gradient(circle, rgba(111,231,255,.12) 0 1px, transparent 2px) 0 0/26px 26px,
    linear-gradient(rgba(111,231,255,.18) 1px, transparent 1px) 0 0/180px 180px,
    linear-gradient(90deg, rgba(111,231,255,.18) 1px, transparent 1px) 0 0/180px 180px,
    linear-gradient(rgba(111,231,255,.08) 1px, transparent 1px) 0 0/45px 45px,
    linear-gradient(90deg, rgba(111,231,255,.08) 1px, transparent 1px) 0 0/45px 45px;
  opacity:.75;
}

/* 深空暗角（蓝，不黑） */
#mapFrame::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:4;
  pointer-events:none;
  background:
    radial-gradient(ellipse at center,
      rgba(2,8,18,0) 45%,
      rgba(2,8,18,.35) 75%,
      rgba(2,8,18,.85) 100%);
}

/* ================= CONTROLS ================= */
.leaflet-control-zoom,
.leaflet-draw-toolbar{
  background:rgba(6,14,32,.65)!important;
  border:1px solid rgba(120,190,255,.18)!important;
  border-radius:12px!important;
  box-shadow:0 10px 30px rgba(0,0,0,.4)!important;
}
