/* =========================================================
   Satellite Discovery Index â€” Neon HUD Theme (Full Replace)
   Target: neon frame + starfield + dotted grid + sweep
   ========================================================= */

/* ---------- Reset ---------- */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { height: 100%; }

:root{
  --sideW: 360px;

  --bg0: #050812;
  --bg1: #070b14;
  --panel: rgba(10,16,30,.58);
  --panel2: rgba(8,12,22,.50);

  --stroke: rgba(120,170,255,.16);
  --stroke2: rgba(57,215,255,.22);
  --text: rgba(240,247,255,.92);
  --textDim: rgba(226,242,255,.72);
  --textMute: rgba(226,242,255,.58);

  --neon: #39d7ff;
  --neon2: #7aa8ff;

  --r-xl: 22px;
  --r-lg: 18px;

  --shadow1: 0 14px 38px rgba(0,0,0,.55);
  --shadow2: 0 22px 70px rgba(0,0,0,.62);
  --inner: inset 0 1px 0 rgba(255,255,255,.06);
}

body{
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
  font-size: 13px;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 18% 8%, rgba(57,215,255,.22), transparent 55%),
    radial-gradient(900px 600px at 78% 20%, rgba(122,168,255,.16), transparent 58%),
    radial-gradient(900px 700px at 50% 80%, rgba(57,215,255,.10), transparent 60%),
    linear-gradient(180deg, #070b14, #050811 55%, #04060d);
  overflow: hidden;
}

/* Starfield layer */
body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
  background:
    radial-gradient(1px 1px at 12% 22%, rgba(180,230,255,.55), transparent 2px),
    radial-gradient(1px 1px at 35% 18%, rgba(120,210,255,.45), transparent 2px),
    radial-gradient(1px 1px at 68% 26%, rgba(180,230,255,.55), transparent 2px),
    radial-gradient(1px 1px at 82% 40%, rgba(120,210,255,.45), transparent 2px),
    radial-gradient(1px 1px at 22% 68%, rgba(180,230,255,.50), transparent 2px),
    radial-gradient(1px 1px at 55% 72%, rgba(120,210,255,.40), transparent 2px),
    radial-gradient(1px 1px at 75% 78%, rgba(180,230,255,.45), transparent 2px),
    radial-gradient(1px 1px at 90% 84%, rgba(120,210,255,.35), transparent 2px);
  opacity:.60;
  filter: blur(.2px);
}

.app{
  position: relative;
  z-index: 1;
  height: 100%;
  display: grid;
  grid-template-rows: 78px 1fr;
}

/* ---------- Topbar ---------- */
.topbar{
  position: relative;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 18px;
  border-bottom: 1px solid rgba(57,215,255,.16);
  background: linear-gradient(180deg, rgba(10,18,34,.82), rgba(8,12,22,.32));
  box-shadow: 0 12px 44px rgba(0,0,0,.55);
}
.topbar::after{
  content:"";
  position:absolute;
  left:0; right:0; bottom:-1px;
  height:2px;
  background: linear-gradient(90deg, transparent, rgba(57,215,255,.55), transparent);
  filter: blur(.3px);
  opacity:.75;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  min-width: 320px;
}

.brandMark{
  width: 44px;
  height: 44px;
  border-radius: 14px;
  background:
    radial-gradient(18px 18px at 28% 30%, rgba(57,215,255,.95), transparent 70%),
    radial-gradient(22px 22px at 72% 70%, rgba(122,168,255,.70), transparent 75%),
    linear-gradient(135deg, rgba(57,215,255,.22), rgba(122,168,255,.12)),
    rgba(9,14,28,.65);
  border: 1px solid rgba(57,215,255,.22);
  box-shadow: 0 0 28px rgba(57,215,255,.22), var(--inner);
}

.brandText{ display:flex; flex-direction:column; line-height: 1.10; }
.brandTitle{
  font-weight: 800;
  letter-spacing: 1px;
  font-size: 28px;
  text-shadow: 0 0 22px rgba(57,215,255,.18);
}
.brandSub{
  margin-top: 4px;
  color: var(--textDim);
  font-size: 13px;
}

.tabs{
  display:flex;
  align-items:center;
  gap: 10px;
}

.tab{
  text-decoration:none;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(8,12,22,.30);
  color: rgba(240,247,255,.86);
  font-weight: 800;
  letter-spacing: .4px;
  font-size: 14px;
  box-shadow: var(--inner);
  transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease, background .12s ease;
}
.tab:hover{
  transform: translateY(-1px);
  border-color: rgba(57,215,255,.28);
  box-shadow: 0 0 0 3px rgba(57,215,255,.10), var(--inner);
}
.tab.active{
  border-color: rgba(57,215,255,.35);
  box-shadow: 0 0 0 3px rgba(57,215,255,.10), 0 0 22px rgba(57,215,255,.14);
}

/* ---------- Main ---------- */
.main{
  display:grid;
  grid-template-columns: var(--sideW) 10px 1fr;
  gap: 12px;
  padding: 14px;
  height: calc(100vh - 78px);
  overflow: hidden;
}

/* ---------- Sidebar ---------- */
.sidebar{
  border-radius: var(--r-xl);
  background: rgba(8,12,22,.48);
  border: 1px solid rgba(57,215,255,.18);
  box-shadow: 0 0 0 1px rgba(57,215,255,.10), 0 18px 60px rgba(0,0,0,.55);
  overflow: hidden;
  display:flex;
  flex-direction:column;
}

.sideScroll{
  padding: 14px;
  overflow: auto;
  scrollbar-width: thin;
  scrollbar-color: rgba(57,215,255,.25) rgba(0,0,0,.15);
}
.sideScroll::-webkit-scrollbar { width: 10px; }
.sideScroll::-webkit-scrollbar-track { background: rgba(0,0,0,.18); }
.sideScroll::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, rgba(57,215,255,.30), rgba(122,168,255,.22));
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,.22);
}

.section{
  position: relative;
  margin-bottom: 14px;
  padding: 14px 14px 12px 14px;
  border-radius: 18px;
  background: rgba(6,10,18,.50);
  border: 1px solid rgba(57,215,255,.16);
  box-shadow:
    0 0 0 1px rgba(57,215,255,.10),
    0 0 36px rgba(57,215,255,.10),
    var(--inner);
}
.section::after{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: 14px;
  border: 1px dashed rgba(57,215,255,.14);
  pointer-events:none;
  opacity: .75;
}

.sectionTitle{
  display:flex;
  align-items:center;
  gap:10px;
  font-weight: 900;
  font-size: 13px;
  letter-spacing: 2.2px;
  text-transform: uppercase;
  margin-bottom: 10px;
  color: rgba(240,247,255,.92);
}
.sectionTitle .dim{
  margin-left: 6px;
  opacity: .65;
  font-weight: 800;
  letter-spacing: 1px;
  font-size: 12px;
}

.kicker{
  color: var(--textDim);
  font-size: 12px;
  line-height: 1.45;
  margin: 8px 0 10px;
}

.row{
  display:flex;
  gap:10px;
  align-items:center;
  margin: 8px 0;
}

label.small{
  font-size: 12px;
  color: var(--textMute);
}

/* Inputs */
input[type="text"], input[type="month"], select{
  width: 100%;
  height: 40px;
  padding: 0 12px;
  border-radius: 12px;
  border: 1px solid rgba(57,215,255,.14);
  background: rgba(10,16,28,.55);
  color: rgba(240,247,255,.92);
  outline: none;
  box-shadow: var(--inner);
  transition: border-color .12s ease, box-shadow .12s ease;
}
input:focus, select:focus{
  border-color: rgba(57,215,255,.28);
  box-shadow: 0 0 0 3px rgba(57,215,255,.10), var(--inner);
}
input[type="month"]{ color-scheme: dark; }

.btn{
  position: relative;
  height: 40px;
  padding: 0 14px;
  border-radius: 12px;
  border: 1px solid rgba(57,215,255,.18);
  background: rgba(8,12,22,.42);
  color: rgba(240,247,255,.88);
  font-weight: 800;
  cursor:pointer;
  transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
  box-shadow: var(--inner);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}
.btn:hover{
  transform: translateY(-1px);
  border-color: rgba(57,215,255,.28);
  box-shadow: 0 0 0 3px rgba(57,215,255,.10), var(--inner);
}
.btn.primary{
  border-color: rgba(57,215,255,.32);
  background: linear-gradient(180deg, rgba(57,215,255,.16), rgba(8,12,22,.42));
  box-shadow: 0 0 26px rgba(57,215,255,.14), inset 0 1px 0 rgba(255,255,255,.06);
}
.btn.ghost{
  background: rgba(8,12,22,.22);
  border-color: rgba(255,255,255,.10);
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(57,215,255,.12);
  background: rgba(7,12,20,.45);
  color: var(--textDim);
  font-size: 12px;
  line-height: 1.35;
}

.hr{
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(57,215,255,.18), transparent);
  margin: 10px 0;
}

/* Notice */
.notice{
  padding: 12px;
  border-radius: 14px;
  border: 1px solid rgba(57,215,255,.12);
  background: rgba(7,12,20,.45);
  color: var(--textDim);
  font-size: 12px;
  line-height: 1.45;
}
.noticeTitle{
  letter-spacing: 2px;
  font-weight: 900;
  font-size: 12px;
  text-transform: uppercase;
  opacity: .92;
}
.noticeBody{
  margin-top: 6px;
  color: rgba(240,247,255,.82);
}

/* Index list */
.indexList{ display:grid; gap: 10px; }
.indexItem{
  border-radius: 16px;
  border: 1px solid rgba(57,215,255,.12);
  background: rgba(6,10,18,.40);
  box-shadow: var(--inner);
  padding: 12px;
}
.indexTop{ display:flex; justify-content:space-between; gap:10px; }
.indexName{ font-weight: 900; font-size: 12px; letter-spacing: .3px; }
.indexDesc{ margin-top: 4px; color: rgba(240,247,255,.70); font-size: 12px; line-height: 1.4; }
.indexMeta{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:flex-end; }

.tag{
  display:inline-flex;
  align-items:center;
  height: 24px;
  padding: 0 10px;
  border-radius: 999px;
  border: 1px solid rgba(120,170,255,.16);
  background: rgba(8,12,22,.35);
  color: rgba(240,247,255,.72);
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .6px;
}

.pill{
  display:inline-flex;
  align-items:center;
  height: 24px;
  padding: 0 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(8,12,22,.35);
  color: rgba(240,247,255,.80);
  font-size: 11px;
  font-weight: 900;
  letter-spacing: .7px;
  text-transform: uppercase;
}
.pill.ok{ border-color: rgba(57,215,255,.24); box-shadow: 0 0 18px rgba(57,215,255,.10), var(--inner); }
.pill.warn{ border-color: rgba(122,168,255,.22); box-shadow: 0 0 18px rgba(122,168,255,.10), var(--inner); }
.pill.no{ border-color: rgba(255,120,120,.22); box-shadow: 0 0 18px rgba(255,120,120,.10), var(--inner); }

/* Spinner */
.btn .spinner{
  width: 14px;
  height: 14px;
  border-radius: 999px;
  border: 2px solid rgba(240,247,255,.22);
  border-top-color: rgba(57,215,255,.90);
  display: none;
  animation: spin .75s linear infinite;
}
.btn.isLoading .spinner{ display:inline-block; }
.btn.isLoading .btnText{ opacity: .75; }
@keyframes spin{ to{ transform: rotate(360deg); } }

/* Sources */
.sources{ display:grid; gap: 10px; }
.source{
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(57,215,255,.12);
  background: rgba(6,10,18,.38);
  box-shadow: var(--inner);
}
.sourceTop{ display:flex; justify-content:space-between; align-items:center; gap: 10px; }
.sourceName{ font-weight: 900; font-size: 12px; letter-spacing: .2px; }
.sourceDesc{ margin-top: 6px; color: rgba(240,247,255,.72); font-size: 12px; line-height: 1.4; }

/* Toast */
.toast{
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 2000;
  min-width: 260px;
  max-width: 420px;
  padding: 12px 14px;
  border-radius: 16px;
  border: 1px solid rgba(57,215,255,.18);
  background: rgba(8,12,22,.62);
  box-shadow: 0 18px 60px rgba(0,0,0,.62), var(--inner);
  backdrop-filter: blur(10px);
  transform: translateY(12px);
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease;
}
.toast.show{ opacity: 1; transform: translateY(0); }
.toast .tTitle{ font-weight: 900; letter-spacing: 1px; font-size: 12px; text-transform: uppercase; }
.toast .tBody{ margin-top: 6px; color: rgba(240,247,255,.78); font-size: 12px; line-height: 1.35; }

/* ---------- Splitter ---------- */
.splitter{
  border-radius: 999px;
  background: rgba(57,215,255,.05);
  border: 1px solid rgba(57,215,255,.16);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04);
  cursor: col-resize;
}
.splitter:hover{
  background: rgba(57,215,255,.10);
  border-color: rgba(57,215,255,.28);
}

/* ---------- Map Panel ---------- */
.mapWrap{
  position: relative;
  isolation: isolate;
  border-radius: var(--r-xl);
  border: 1px solid rgba(57,215,255,.20);
  background: rgba(6,10,18,.62);
  box-shadow: 0 0 0 1px rgba(57,215,255,.10), var(--shadow2);
  overflow: hidden;
  min-height: 520px;
  height: calc(100vh - 110px);
}

#map{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index: 0 !important;
  background: #050a12;
}

/* Leaflet layering */
.leaflet-pane,
.leaflet-tile,
.leaflet-layer,
.leaflet-control-container{
  z-index: 120 !important;
}

/* Basemap filters (mode switched by JS: data-basemap=esri/carto) */
:root[data-basemap="esri"] .leaflet-tile-pane{
  filter: brightness(1.10) contrast(1.20) saturate(1.05) hue-rotate(10deg);
}
:root[data-basemap="carto"] .leaflet-tile-pane{
  filter: brightness(1.12) contrast(1.30) saturate(1.20) hue-rotate(28deg);
}

/* Dotted grid overlay + glow */
.mapWrap::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index: 800;
  background:
    radial-gradient(circle at 1px 1px, rgba(57,215,255,.22) 1px, transparent 1.6px) 0 0/22px 22px,
    radial-gradient(900px 620px at 55% 40%, rgba(57,215,255,.18), transparent 58%),
    radial-gradient(1200px 900px at 50% 55%, rgba(0,0,0,.62), transparent 62%);
  opacity: .85;
  mix-blend-mode: screen;
}

/* Sweep band */
.mapWrap::after{
  content:"";
  position:absolute;
  inset:-35% -25%;
  pointer-events:none;
  z-index: 820;
  background:
    linear-gradient(90deg,
      transparent 0%,
      rgba(57,215,255,0.00) 35%,
      rgba(57,215,255,0.22) 50%,
      rgba(57,215,255,0.00) 65%,
      transparent 100%
    );
  opacity: .55;
  transform: translateX(-40%) rotate(10deg);
  animation: sweep 7.5s linear infinite;
  mix-blend-mode: screen;
  filter: blur(.6px);
}
@keyframes sweep{
  0%   { transform: translateX(-55%) rotate(10deg); opacity:.10; }
  18%  { opacity:.55; }
  55%  { transform: translateX(25%) rotate(10deg); opacity:.55; }
  100% { transform: translateX(75%) rotate(10deg); opacity:.12; }
}

/* Map chrome tags */
.mapChrome{
  position:absolute;
  left: 12px;
  right: 12px;
  top: 12px;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap: 10px;
  z-index: 900;
  pointer-events:none;
}
.hudTag{
  pointer-events:none;
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(57,215,255,.26);
  background: rgba(6,10,18,.58);
  color: rgba(240,247,255,.92);
  font-size: 12px;
  font-weight: 900;
  letter-spacing: 2px;
  text-transform: uppercase;
  box-shadow: 0 0 26px rgba(57,215,255,.18), var(--inner);
}
.hudTag.dim{
  border-color: rgba(255,255,255,.10);
  color: rgba(240,247,255,.72);
  box-shadow: var(--inner);
}

/* Leaflet controls */
.leaflet-control-zoom a{
  background: rgba(6,10,18,.70) !important;
  color: rgba(240,247,255,.88) !important;
  border: 1px solid rgba(57,215,255,.18) !important;
  box-shadow: var(--inner);
}
.leaflet-control-zoom a:hover{
  border-color: rgba(57,215,255,.26) !important;
}

/* Vector overlays (footprints glow) */
.leaflet-interactive{
  stroke: rgba(57,215,255,.95) !important;
  stroke-width: 1.8 !important;
  stroke-dasharray: 6 6 !important;
  filter: drop-shadow(0 0 6px rgba(57,215,255,.55));
}

/* Utility */
.mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

/* Responsive */
@media (max-width: 1100px){
  body{ overflow:auto; }
  .main{
    grid-template-columns: 1fr;
    height: auto;
    overflow: visible;
  }
  .splitter{ display:none; }
  .mapWrap{ height: 520px; }
}
