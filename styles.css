:root{
  /* ===== Core palette ===== */
  --bg0:#030712;
  --bg1:#050d1f;

  --deepBlue:#020816;
  --deepBlue2:#061a3a;

  --cyan:#6fe7ff;
  --cyan2:#3fb7ff;
  --blue:#2a6dff;
  --violet:#7a6dff;

  --text:#eaf2ff;
  --muted:#9fb2cc;
  --muted2:#7f93b3;

  --glassA: rgba(10,20,42,.60);
  --glassB: rgba(6,14,30,.72);

  --borderA: rgba(120,190,255,.14);
  --borderB: rgba(255,255,255,.06);

  --shadow: 0 18px 70px rgba(0,0,0,.55);
  --shadowSoft: 0 10px 28px rgba(0,0,0,.35);

  --r12:12px;
  --r16:16px;
  --r20:20px;
  --r24:24px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; overflow:hidden; }

body{
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 720px at 18% -10%, rgba(63,183,255,.18), transparent 60%),
    radial-gradient(900px 520px at 115% 20%, rgba(122,109,255,.10), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
}

/* subtle page star dust */
body::before{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  background:
    radial-gradient(circle, rgba(120,200,255,.05) 0 1px, transparent 2px) 0 0/26px 26px,
    radial-gradient(circle, rgba(120,200,255,.035) 0 1px, transparent 2px) 0 0/38px 38px;
  opacity:.5;
  mix-blend-mode: screen;
}

/* ===================== Topbar ===================== */
#topbar{
  height:64px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 18px;
  position:relative;

  background: linear-gradient(180deg, rgba(7,14,30,.72), rgba(5,10,22,.62));
  border-bottom: 1px solid rgba(140,210,255,.10);
  box-shadow: var(--shadowSoft);
  backdrop-filter: blur(10px);
}

#topbar::after{
  content:"";
  position:absolute;
  left:18px; right:18px; bottom:-1px;
  height:1px;
  background: linear-gradient(90deg, transparent, rgba(111,231,255,.28), transparent);
  opacity:.85;
}

.brand{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:360px;
}
.brandDot{
  width:12px; height:12px; border-radius:50%;
  background: radial-gradient(circle at 30% 30%, #fff, rgba(111,231,255,.9) 55%, rgba(63,183,255,.25) 78%, transparent 82%);
  box-shadow: 0 0 18px rgba(111,231,255,.22);
}
.brandText{ display:flex; flex-direction:column; gap:3px; }
.brandTitle{
  font-family: Orbitron, Inter, system-ui;
  font-size:20px;
  letter-spacing:2.2px;
  text-transform:uppercase;
  text-shadow: 0 0 12px rgba(63,183,255,.18);
}
.brandSub{ font-size:12px; color: var(--muted); }

.tabs{
  display:flex;
  gap:18px;
}
.tab{
  font-size:14px;
  padding:8px 2px;
  border-bottom:2px solid transparent;
  color: rgba(180,200,230,.9);
}
.tab.active{
  color: var(--text);
  border-bottom-color: rgba(111,231,255,.55);
}

.rightPills{ display:flex; gap:10px; }
.pill{
  font-family: Orbitron, Inter, system-ui;
  font-size:11px;
  letter-spacing:1px;
  padding:9px 12px;
  border-radius:999px;
  border:1px solid rgba(130,190,255,.16);
  background: rgba(8,16,34,.35);
}
.pill.ghost{
  border-color: rgba(122,109,255,.18);
  color: #dcd7ff;
}

/* ===================== Layout ===================== */
#app{ height: calc(100% - 64px); display:flex; }

#sidebar{
  width:410px;
  padding:14px;
  overflow:auto;
  background: linear-gradient(180deg, rgba(7,14,30,.62), rgba(4,9,20,.72));
  border-right:1px solid rgba(140,210,255,.10);
  backdrop-filter: blur(10px);
}

/* ===================== Cards ===================== */
.card{
  border-radius: var(--r20);
  background: linear-gradient(180deg, rgba(12,22,46,.52), rgba(6,14,30,.62));
  border:1px solid var(--borderA);
  box-shadow: var(--shadowSoft);
  padding:14px;
  margin-bottom:12px;
  position:relative;
}
.card::before{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(111,231,255,.06), transparent 22%);
  pointer-events:none;
}

.cardHead{ display:flex; gap:10px; margin-bottom:10px; }
.step{
  width:22px; height:22px; border-radius:999px;
  display:flex; align-items:center; justify-content:center;
  font-family: Orbitron, Inter, system-ui;
  font-size:11px;
  background: radial-gradient(circle at 30% 30%, #fff, rgba(111,231,255,.9) 65%, rgba(63,183,255,.25));
  color:#020816;
}
.cardTitle{
  font-family: Orbitron, Inter, system-ui;
  font-size:12px;
  letter-spacing:1.4px;
  text-transform:uppercase;
}

/* ===================== Forms ===================== */
label{ font-size:12px; color: var(--muted); margin:10px 0 6px; }
.row{ display:flex; gap:10px; }

input, .select{
  width:100%;
  padding:11px 12px;
  border-radius: var(--r12);
  border:1px solid var(--borderB);
  background: rgba(3,8,18,.45);
  color: var(--text);
}
input::placeholder{ color: rgba(160,180,210,.55); }

.btn{
  padding:11px 12px;
  border-radius: var(--r12);
  border:1px solid var(--borderB);
  background: rgba(3,8,18,.35);
  color: var(--text);
}
.btn.primary{
  background: linear-gradient(180deg, rgba(63,183,255,.18), rgba(3,8,18,.38));
  border-color: rgba(111,231,255,.28);
  font-family: Orbitron, Inter, system-ui;
}

/* ===================== Map ===================== */
#main{ flex:1; padding:12px; }

#mapFrame{
  height:100%;
  border-radius: var(--r24);
  border:1px solid rgba(140,210,255,.12);
  background:
    radial-gradient(1200px 720px at 52% 38%, rgba(6,26,62,.82), rgba(2,8,22,.96));
  box-shadow: var(--shadow);
  position:relative;
  overflow:hidden;
}

#map{
  position:absolute;
  inset:0;
  z-index:1;
}

/* starfield + blue light points */
#mapFrame::before{
  content:"";
  position:absolute;
  inset:0;
  z-index:2;
  pointer-events:none;
  background:
    radial-gradient(circle at 18% 28%, rgba(111,231,255,.38) 0 1px, transparent 2px),
    radial-gradient(circle at 72% 42%, rgba(63,183,255,.32) 0 1px, transparent 2px),
    radial-gradient(circle at 44% 70%, rgba(42,109,255,.26) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(120,200,255,.055) 0 1px, transparent 2px) 0 0/18px 18px,
    radial-gradient(circle, rgba(120,200,255,.04) 0 1px, transparent 2px) 0 0/28px 28px;
  opacity:.78;
  mix-blend-mode: screen;
}

/* grid overlay */
.gridOverlay{
  position:absolute;
  inset:0;
  z-index:3;
  pointer-events:none;
  background:
    radial-gradient(circle, rgba(111,231,255,.10) 0 1px, transparent 2px) 0 0/28px 28px,
    linear-gradient(rgba(111,231,255,.14) 1px, transparent 1px) 0 0/180px 180px,
    linear-gradient(90deg, rgba(111,231,255,.14) 1px, transparent 1px) 0 0/180px 180px,
    linear-gradient(rgba(111,231,255,.06) 1px, transparent 1px) 0 0/45px 45px,
    linear-gradient(90deg, rgba(111,231,255,.06) 1px, transparent 1px) 0 0/45px 45px;
  opacity:.7;
  mix-blend-mode: screen;
}

/* vignette */
#mapFrame::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:4;
  pointer-events:none;
  background:
    radial-gradient(ellipse at center,
      rgba(2,8,22,0) 42%,
      rgba(2,8,22,.18) 70%,
      rgba(1,5,14,.82) 100%);
}

/* ===================== Leaflet controls ===================== */
.leaflet-control-zoom,
.leaflet-draw-toolbar{
  background: rgba(8,16,34,.55) !important;
  border:1px solid rgba(140,210,255,.14) !important;
  border-radius:12px !important;
  box-shadow: var(--shadowSoft) !important;
}

/* Toast */
.toast{
  position:absolute;
  left:16px;
  bottom:16px;
  padding:10px 12px;
  border-radius:12px;
  background: rgba(8,16,34,.62);
  border:1px solid var(--borderB);
  font-size:12px;
}
.hidden{ display:none; }
/* ===== Force basemap into deep-blue (fix "still black") ===== */
.leaflet-tile-pane{
  filter: brightness(1.06) contrast(1.35) saturate(2.05) hue-rotate(185deg) !important;
}

/* optional: slightly lift label layer if you use labels tiles */
.leaflet-tile-pane img{
  opacity: .92;
}

